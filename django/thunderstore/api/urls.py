from django.urls import path

from thunderstore.api.cyberstorm.views import (
    AddTeamMemberAPIView,
    CommunityAPIView,
    CommunityFiltersAPIView,
    CommunityListAPIView,
    PackageListingAPIView,
    PackageListingByCommunityListAPIView,
    PackageListingByDependencyListAPIView,
    PackageListingByNamespaceListAPIView,
    PackageVersionChangelogAPIView,
    PackageVersionReadmeAPIView,
    PackageVersionsAPIView,
    TeamDetailAPIView,
    TeamMembersAPIView,
    TeamServiceAccountsAPIView,
)

cyberstorm_urls = [
    path(
        "community/",
        CommunityListAPIView.as_view(),
        name="cyberstorm.community.list",
    ),
    path(
        "community/<str:community_id>/",
        CommunityAPIView.as_view(),
        name="cyberstorm.community",
    ),
    path(
        "community/<str:community_id>/filters/",
        CommunityFiltersAPIView.as_view(),
        name="cyberstorm.community.filters",
    ),
    path(
        "listing/<str:community_id>/",
        PackageListingByCommunityListAPIView.as_view(),
        name="cyberstorm.listing.by-community-list",
    ),
    path(
        "listing/<str:community_id>/<str:namespace_id>/",
        PackageListingByNamespaceListAPIView.as_view(),
        name="cyberstorm.listing.by-namespace-list",
    ),
    path(
        "listing/<str:community_id>/<str:namespace_id>/<str:package_name>/",
        PackageListingAPIView.as_view(),
        name="cyberstorm.listing",
    ),
    path(
        "listing/<str:community_id>/<str:namespace_id>/<str:package_name>/dependants/",
        PackageListingByDependencyListAPIView.as_view(),
        name="cyberstorm.listing.by-dependency-list",
    ),
    path(
        "team/<str:team_id>/",
        TeamDetailAPIView.as_view(),
        name="cyberstorm.team.detail",
    ),
    path(
        "team/<str:team_id>/members/",
        TeamMembersAPIView.as_view(),
        name="cyberstorm.team.members",
    ),
    path(
        "team/<str:team_name>/members/add/",
        AddTeamMemberAPIView.as_view(),
        name="cyberstorm.team.members.add",
    ),
    path(
        "team/<str:team_id>/service-accounts/",
        TeamServiceAccountsAPIView.as_view(),
        name="cyberstorm.team.service-accounts",
    ),
    # TODO: rethink URL prefixes. Now "package" is in use for community
    # scoped things, so have to use something else for actually package
    # (version) scoped things.
    path(
        "changelog/<str:namespace_id>/<str:package_name>/",
        PackageVersionChangelogAPIView.as_view(),
        name="cyberstorm.package-version.changelog-latest",
    ),
    path(
        "changelog/<str:namespace_id>/<str:package_name>/<str:version_number>/",
        PackageVersionChangelogAPIView.as_view(),
        name="cyberstorm.package-version.changelog",
    ),
    path(
        "readme/<str:namespace_id>/<str:package_name>/",
        PackageVersionReadmeAPIView.as_view(),
        name="cyberstorm.package-version.readme-latest",
    ),
    path(
        "readme/<str:namespace_id>/<str:package_name>/<str:version_number>/",
        PackageVersionReadmeAPIView.as_view(),
        name="cyberstorm.package-version.readme",
    ),
    path(
        "versions/<str:namespace_id>/<str:package_name>/",
        PackageVersionsAPIView.as_view(),
        name="cyberstorm.package.versions",
    ),
]
